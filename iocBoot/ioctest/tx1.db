record(ao, "$(P)period") {
    field(VAL, "1")
    field(OUT, "$(P)drive.ODLY")
    field(PINI, "YES")
}

record(calcout, "$(P)drive") {
    field(PINI, "RUNNING")
    field(ODLY, "1")
    field(OUT , "$(P)drive.PROC CA")
    field(FLNK, "$(P)cnt1")
}

record(calc, "$(P)cnt1") {
    field(INPA, "$(P)cnt1")
    field(CALC, "A+1")
    field(FLNK, "$(P)cnt2")
}

record(calc, "$(P)cnt2") {
    field(INPA, "$(P)cnt1")
    field(CALC, "A")
    field(TSEL, "$(P)cnt1.TIME")
    field(FLNK, "$(P)cnt3x")
}

record(calcout, "$(P)cnt3x") {
    field(INPA, "$(P)cnt1")
    field(CALC, "A%2==0")
    field(OOPT, "When Non-zero")
    field(OUT , "$(P)cnt3.PROC PP")
    field(FLNK, "$(P)imgx")
}

record(calc, "$(P)cnt3") {
    field(INPA, "$(P)cnt1")
    field(CALC, "A")
    field(TSEL, "$(P)cnt1.TIME")
}

record(calcout, "$(P)imgx") {
    field(INPA, "$(P)cnt1")
    field(CALC, "A%4==0")
    field(OOPT, "When Non-zero")
    field(OUT , "$(P)img.PROC PP")
    field(FLNK, "$(FLNK=)")
}

record(waveform, "$(P)img") {
    field(FTVL, "CHAR")
    field(NELM, "100")
    field(TSEL, "$(P)cnt1.TIME")
}
